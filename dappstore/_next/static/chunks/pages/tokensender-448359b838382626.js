(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6861],{71809:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tokensender",function(){return n(12354)}])},12354:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var a=n(85893),s=n(67294),r=n(67957),l=n(8155),o=n(92321),i=n(68551),d=n(23538),c=n(69553),u=n(24031),m=n(51218),p=n(9134),x=n(676),h=n(65650),y=n(2607),b=n(1571),f=n(16693),v=n(37003),g=n(25619);let N={control:e=>({...e,backgroundColor:"#1D1D2A",border:"1px solid #444",color:"white",borderRadius:"6px"}),option:(e,t)=>({...e,borderBottom:"1px solid #444",color:"white",backgroundColor:"#1D1D2A"}),singleValue:e=>({...e,color:"white"}),menu:e=>({...e,backgroundColor:"#1D1D2A",borderRadius:"6px",border:"1px solid #383632",zIndex:1e3}),menuList:e=>({...e,color:"white",cursor:"pointer","::-webkit-scrollbar":{width:"4px",height:"0px"},"::-webkit-scrollbar-track":{background:"#f1f1f1"},"::-webkit-scrollbar-thumb":{background:"#888"},"::-webkit-scrollbar-thumb:hover":{background:"#555"}}),placeholder:e=>({...e,color:"white"}),input:e=>({...e,color:"white",borderRadius:"6px"})},j=e=>({...e,colors:{...e.colors,primary:"#171F29"}}),k={control:e=>({...e,backgroundColor:"#f5f8fa",border:"1px solid #444",color:"white",borderRadius:"6px"}),option:(e,t)=>({...e,borderBottom:"1px solid #444",color:"#181c32",backgroundColor:"#f5f8fa"}),singleValue:e=>({...e,color:"#181c32"}),menu:e=>({...e,backgroundColor:"#f5f8fa",borderRadius:"6px",border:"1px solid #383632",zIndex:1e3}),menuList:e=>({...e,color:"#181c32",cursor:"pointer","::-webkit-scrollbar":{width:"4px",height:"0px"},"::-webkit-scrollbar-track":{background:"#f1f1f1"},"::-webkit-scrollbar-thumb":{background:"#888"},"::-webkit-scrollbar-thumb:hover":{background:"#555"}}),placeholder:e=>({...e,color:"#181c32"}),input:e=>({...e,color:"#181c32",borderRadius:"6px"})},w=e=>({...e,colors:{...e.colors,primary:"#171F29"}});var T=n(76718),A=e=>{let{disabled:t,currentNetwork:n,address:r,selectedToken:l,setSelectedToken:o}=e,[i,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{d(!0)},[]);let{resolvedTheme:c}=(0,b.F)(),u=[{value:null==n?void 0:n.currencyAddress,label:null==n?void 0:n.currencyName,symbol:null==n?void 0:n.currencySymbol,native:!0}],m=async e=>{try{let[t,a,s,l]=await Promise.all([(0,v.L)(T.config,{address:e,abi:f.Wo,functionName:"name",chainId:n.chainId}),(0,v.L)(T.config,{address:e,abi:f.Wo,functionName:"symbol",chainId:n.chainId}),(0,v.L)(T.config,{address:e,abi:f.Wo,functionName:"decimals",chainId:n.chainId}),(0,v.L)(T.config,{address:e,abi:f.Wo,functionName:"balanceOf",args:[r],chainId:n.chainId})]);o({address:e,value:e,amount:Number(l)>0?(0,g.HM)(l,s,5):l,tokenName:t,symbol:a,decimals:s,native:!1,label:t})}catch(e){console.error(e)}};if(i)return(0,a.jsx)("div",{className:"w-full",onClick:()=>t&&p.Am.error("Please connect your wallet to choose a token."),children:(0,a.jsx)(y.Z,{value:l,onChange:e=>{e&&(e.native?o(e):m(e.value))},options:u,styles:"dark"===c?N:k,theme:"dark"===c?j:w,isDisabled:t,isClearable:!0,placeholder:"Select Token",formatCreateLabel:e=>'Contract Address "'.concat(e,'"'),onCreateOption:e=>{m(e)},name:"sdlfknsd"},"".concat(null==n?void 0:n.chainId,"-").concat(r))})},S=n(4831),C=n(5636),E=n(24238),I=n(56199),F=n(87570),R=n(52622),D=n(34863),M=n(70794),Z=n(92526),L=n(41283);let _=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ECDSAInvalidSignature",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"}],name:"ECDSAInvalidSignatureLength",type:"error"},{inputs:[{internalType:"bytes32",name:"s",type:"bytes32"}],name:"ECDSAInvalidSignatureS",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientAllowance",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC20InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC20InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC20InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"}],name:"ERC20InvalidSpender",type:"error"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"}],name:"ERC2612ExpiredSignature",type:"error"},{inputs:[{internalType:"address",name:"signer",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC2612InvalidSigner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"currentNonce",type:"uint256"}],name:"InvalidAccountNonce",type:"error"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];var P=n(67619),B=n(35111),O=n(88238),Y=n(93399),H=n(76369),z=n(41664),W=n.n(z),V=function(e){let{sendingInfo:t,currentNetwork:n,selectedToken:r,dataArray:o,setreCalculate:i,deflationary:d,gasPrice:c}=e,{resolvedTheme:u}=(0,b.F)(),[m,h]=(0,s.useState)(null),[y,f]=(0,s.useState)(null),[v,N]=(0,s.useState)(null),[j,k]=(0,s.useState)(null),[w,T]=(0,s.useState)(!1),[A,S]=(0,s.useState)(null),[C,E]=(0,s.useState)(null);(0,O.Nr)(j,500);let[I,R]=(0,s.useState)(null),[z,V]=(0,s.useState)(null),[X,J]=(0,s.useState)(null),[q,G]=(0,s.useState)(0),[U,$]=(0,s.useState)(null),[K,Q]=(0,s.useState)(!1),[ee,et]=(0,s.useState)(!1);(0,O.Nr)(I,1e3);let[en,ea]=(0,s.useState)(0),{data:es,writeContract:er,error:el}=(0,Z.S)(),{data:eo,writeContract:ei}=(0,Z.S)(),{isLoading:ed,isSuccess:ec,error:eu}=(0,L.A)({hash:eo}),[em,ep]=(0,s.useState)(null);(0,s.useEffect)(()=>{ep(localStorage.getItem("ref"))},[]),(0,s.useEffect)(()=>{ec&&i(e=>e+1)},[ec,ed,eu,eo]),(0,s.useEffect)(()=>{el&&p.Am.error("There is an error."),console.log(el,"senderror")},[el]);let{isLoading:ex,isSuccess:eh,error:ey}=(0,L.A)({hash:es&&es});(0,s.useEffect)(()=>{(async()=>{eh&&(ef("success"),G(e=>e+1)),ey&&(ef("error"),G(e=>e+1)),console.log(ex,eh,ey)})()},[ex,eh,ey]);let eb=()=>{Q(!0),console.log(r.value,A[q],C[q],em,z,n.tokensenderAddress),er({address:n.tokensenderAddress,abi:P.a,functionName:"send",args:[r.value,A[q],C[q],em],gasPrice:c,value:t.native?String(Number(z)+ev(C[q])):z})};(0,s.useEffect)(()=>{q>0&&q<I&&K?(console.log(r.value,A[q],C[q],em,z),er({address:n.tokensenderAddress,abi:P.a,functionName:"send",args:[r.value,A[q],C[q],em],gasPrice:c,value:t.native?String(Number(z)+ev(C[q])):z})):I>0&&q>=I&&(Q(!1),et(!0))},[q]),(0,s.useEffect)(()=>{es&&(U[q].txHash=es)},[es]);let ef=e=>{U[q].status=e},ev=e=>{let t=0;for(let n=0;n<e.length;n++)t+=Number(e[n]);return console.log("toplam",t),t};(0,s.useEffect)(()=>{if(t){let e=(0,g.x$)(Number.MAX_SAFE_INTEGER,r.decimals,0);f(e),N(new M.Z(t.approveAmount).toFixed(0)),k(e);let a=async()=>{V(await (0,g.xt)(n.tokensenderAddress,n.chainId))};h(e=>({...e,enoughBalance:Number(t.totalAmount)})),a()}},[null==t?void 0:t.approveAmount,n,r]),(0,s.useEffect)(()=>{T(!(null==t?void 0:t.allowanceNeeded))},[t,null==t?void 0:t.allowanceNeeded]),(0,s.useEffect)(()=>{if(w){let e=(0,x.JV)(t.addresses,H.u.tokensenderArrayLength),n=(0,x.JV)(t.amountsDecimal,H.u.tokensenderArrayLength);R(Math.floor(o.length/H.u.tokensenderArrayLength)+1),$(e.map((t,a)=>({txNo:a+1,txHash:"",status:"",addresses:e[a],amounts:n[a]}))),S(e),E(n)}},[w,t,o]);let eg=()=>(console.log(t,r),"token"==t.token)?Number(r.amount)>=t.totalAmount&&Number(t.nativeBalance)>=Number(X):Number(r.amount)>=t.totalAmount+Number(X);return(0,s.useEffect)(()=>{z&&I&&J(Number((0,g.HM)(z,18,6))*I)},[z,I]),(0,a.jsxs)(a.Fragment,{children:[0==en&&(0,a.jsxs)("div",{className:"w-full mt-12 max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2  gap-3 md:gap-12",children:[(0,a.jsx)("div",{className:"text-center",children:"token"==t.token?(0,a.jsxs)("div",{style:{border:"1px solid ".concat(Number(r.amount)>=t.totalAmount?"green":"red"),borderRadius:"15px",backgroundColor:"dark"==u?"#171F29":"#f5f8fa",padding:"10px",height:"100%"},className:"text-break ".concat(Number(r.amount)>=t.totalAmount?"green-shadow":"red-shadow"),children:[(0,a.jsx)("h5",{className:"responsive-text",children:t.totalAmount.toFixed(5)+" "+r.symbol}),(0,a.jsx)("p",{children:Number(r.amount)>=t.totalAmount?"Total ".concat(r.symbol," to be send"):"Total ".concat(r.symbol," to be send you have not enough balance for transaction")})]}):(0,a.jsxs)("div",{style:{border:"1px solid ".concat(Number(r.amount)>=t.totalAmount?"green":"red"),backgroundColor:"dark"==u?"#171F29":"#f5f8fa",borderRadius:"15px",padding:"10px",height:"100%"},className:"text-break ".concat(Number(r.amount)>=t.totalAmount?"green-shadow":"red-shadow"),children:[(0,a.jsx)("h5",{className:"responsive-text",children:t.totalAmount+" "+r.symbol}),(0,a.jsx)("p",{children:Number(t.nativeBalance)>=t.totalAmount?"Total ".concat(r.symbol," to be send"):"Total ".concat(r.symbol," to be send you have not enough balance for transaction")})]})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{style:{border:"1px solid green",borderRadius:"15px",padding:"10px",height:"100%",backgroundColor:"dark"==u?"#171F29":"#f5f8fa"},className:"text-break green-shadow",children:[(0,a.jsx)("h5",{className:"responsive-text",children:t.transactionsCount.toString()+" Tx"}),(0,a.jsxs)("p",{children:["You need to confirm"," "+t.transactionsCount.toString()+" ","transactions on your wallet."]})]})}),(0,a.jsx)("div",{className:"text-center",children:"token"==t.token?(0,a.jsxs)("div",{style:{border:"1px solid ".concat(Number(r.amount)>=t.totalAmount?"green":"red"),backgroundColor:"dark"==u?"#171F29":"#f5f8fa",borderRadius:"15px",padding:"10px",height:"100%"},className:"text-break ".concat(Number(r.amount)>=t.totalAmount?"green-shadow":"red-shadow"),children:[(0,a.jsx)("h5",{className:"responsive-text",children:r.amount+" "+r.symbol}),(0,a.jsx)("p",{children:Number(r.amount)>=t.totalAmount?"You have enough balance for transaction":"You have not enough balance for transaction"})]}):(0,a.jsxs)("div",{style:{border:"1px solid ".concat(Number(t.nativeBalance)>=t.totalAmount?"green":"red"),borderRadius:"15px",padding:"10px",backgroundColor:"dark"==u?"#171F29":"#f5f8fa",height:"100%"},className:"text-break ".concat(Number(t.nativeBalance)>=t.totalAmount?"green-shadow":"red-shadow"),children:[(0,a.jsx)("h5",{className:"responsive-text",children:t.nativeBalance+" "+n.currencySymbol}),(0,a.jsx)("p",{children:Number(t.nativeBalance)>=t.totalAmount?" You have enough ".concat(" "+n.currencySymbol+" ","  to run transaction."):"You don't have enough ".concat(" "+n.currencySymbol+" "," balance")})]})}),(0,a.jsx)("div",{className:"text-center",children:"token"==t.token&&(0,a.jsxs)("div",{style:{border:"1px solid ".concat(Number(t.allowanceNoDecimal)>=t.totalAmount?"green":"red"),backgroundColor:"dark"==u?"#171F29":"#f5f8fa",borderRadius:"15px",padding:"10px",height:"100%"},className:"text-break ".concat(Number(t.allowanceNoDecimal)>=t.totalAmount?"green-shadow":"red-shadow"),children:[(0,a.jsx)("h5",{className:"responsive-text",children:Number(t.allowanceNoDecimal).toFixed(5)+" "+r.symbol}),(0,a.jsx)("p",{children:Number(t.allowanceNoDecimal)>=t.totalAmount?"Allowance amount is enough. You don't need to approvement you can directly start transactions.":"Allowance amount not enough please click button below and give allowance to contract."})]})}),(0,a.jsx)("div",{})]}),(0,a.jsx)("div",{className:"form-inner",children:(0,a.jsx)(B.Z,{dataArray:o})}),t&&t.allowanceNeeded&&(0,a.jsx)("div",{className:"form-inner mt-5",children:(0,a.jsxs)("ul",{className:"list grid grid-cols-1 md:grid-cols-2 justify-items-center",children:[(0,a.jsxs)("div",{className:"input-box pb--20 rn-check-box mt-3",children:[(0,a.jsx)("input",{className:"rn-check-box-input",type:"radio",name:"first",id:"a-opt1",checked:y===j,value:y,onChange:e=>{k(y)}}),(0,a.jsx)("label",{className:"rn-check-box-label ml-3",htmlFor:"a-opt1",children:"Approve Unlimited Amount"})]})," ",(0,a.jsxs)("div",{className:"input-box pb--20 rn-check-box mt-3",children:[(0,a.jsx)("input",{className:"rn-check-box-input",type:"radio",name:"second",id:"a-opt12",value:v,checked:v===j,onChange:e=>{k(v)}}),(0,a.jsx)("label",{className:"rn-check-box-label ml-3",htmlFor:"a-opt12",children:"Exact amount "+t.approveAmountWithoutDecimal})]})]})})]}),1==en&&(0,a.jsx)("div",{className:" max-w-6xl mx-auto mt-10",children:(0,a.jsxs)("div",{className:"col-12 text-center",children:[(0,a.jsx)("h5",{className:"text-2xl",children:"You need to complete ".concat(I&&I," transactions")}),(0,a.jsx)("h5",{className:"text-2xl mt-5",children:"Fee ".concat(X&&X," ").concat(null==n?void 0:n.currencySymbol," + Network Fee")}),(0,a.jsx)("h5",{className:"text-xl mt-5",children:"You are currently completed ".concat(q&&q," of ").concat(I&&I)}),K&&(0,a.jsx)("h4",{style:{color:"yellow"},children:"Transactions have been started, Please don't close this page and wait till the end!!!"}),ee&&(0,a.jsxs)("h4",{className:"text-xl",style:{color:"green"},children:["All transactions completed please click"," ",(0,a.jsx)(W(),{href:"/",children:"here "})," to go back","."]})]})}),ed&&(0,a.jsx)("div",{className:"row max-w-6xl mx-auto",children:(0,a.jsx)("div",{className:"col-12 mt-3 mb-3",children:(0,a.jsx)(Y.Z,{text:"  Your transaction sent to the blockchain. Clik here to see on block explorer.",link:n.blockExplorer+"/tx/"+eo})})}),eu&&(0,a.jsx)("div",{className:"row max-w-6xl mx-auto",children:(0,a.jsx)(F.Z,{text:"This token may not be able to be approved, or there is another error"})}),U&&(0,a.jsx)("div",{className:"row max-w-6xl mx-auto",children:(0,a.jsx)("div",{className:"col-12 mt-5 mb-3",children:U.map((e,t)=>"pending"===e.status?(0,a.jsx)(Y.Z,{text:"Transaction number ".concat(e.txNo," is sending to the blockchain click here to see on block explorer"),link:n.blockExplorer+"/tx/"+es},e.txNo):"success"===e.status?(0,a.jsx)("div",{className:"mt-5",children:(0,a.jsx)(Y.Z,{text:"Transaction number ".concat(e.txNo," is confirmed"),link:n.blockExplorer+"/tx/"+e.txHash,status:"success",noAnimation:!0},e.txNo)}):"error"===e.status?(0,a.jsx)(Y.Z,{text:"Transaction number ".concat(e.txNo," is failed and transaction is not confirmed"),link:n.blockExplorer+"/tx/"+e.txHash,status:"danger",noAnimation:!0},e.txNo):void 0)})}),(0,a.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"15px"},children:t&&(t.allowanceNeeded?ed?(0,a.jsx)(D.c,{animation:"border",variant:"secondary"}):(0,a.jsx)(l.A,{onClick:()=>{(async()=>{await ei({address:null==r?void 0:r.value,abi:_,functionName:"approve",args:[null==n?void 0:n.tokensenderAddress,j],gasPrice:c})})()},style:{width:"20%"},children:"Approve >>"}):!K&&!ee&&(0,a.jsx)(l.A,{onClick:()=>{0==en?eg()?ea(e=>e+1):p.Am.error("Not enough balance you can't proceed."):eb()},style:{width:"20%"},children:0==en?"Next >>":"Send >"}))})]})},X=n(77042);function J(){let{address:e,isConnected:t}=(0,o.m)(),n=(0,i.x)(),{resolvedTheme:y}=(0,b.F)(),[f,v]=(0,s.useState)(null),[N,j]=(0,s.useState)(!1),{isOpen:k,onOpen:w,onClose:M}=(0,r.q)(),[Z,L]=(0,s.useState)(""),[_,P]=(0,s.useState)([]),[B,O]=(0,s.useState)([]),[Y,H]=(0,s.useState)([]),[z,W]=(0,s.useState)(null),[J,q]=(0,s.useState)(!1),[G,U]=(0,s.useState)([]),[$,K]=(0,s.useState)(null),[Q,ee]=(0,s.useState)(0),[et,en]=(0,s.useState)(null),[ea,es]=(0,s.useState)(!1),[er,el]=(0,s.useState)(0),eo=(0,s.useRef)(),ei=(0,s.useRef)(),{chains:ed,error:ec,isLoading:eu,pendingChainId:em,switchChain:ep}=(0,d.o)();(0,s.useEffect)(()=>{let e=Z.split(/\r?\n/).length;var t=[];for(let n=0;n<e;n++)t.push(n+1);P(t)},[Z]);let{data:ex,isError:eh,isLoading:ey}=(0,c.F)({chainId:(null==f?void 0:f.chainId)||1,watch:!0}),[eb,ef]=(0,s.useState)(null);(0,s.useEffect)(()=>{ex&&ef(Number((0,g.HM)(ex,9,2)))},[ex]);let ev=e=>u.Z.find(t=>t.chainId==e),eg=async e=>{try{await ep({chainId:e})}catch(e){p.Am.error("Please confirm network change")}};(0,s.useEffect)(()=>{(()=>{if(t&&n){let e=ev(n);v(e),console.log(e,"currentNetwork")}else v(u.Z[0])})()},[n,t]),(0,s.useEffect)(()=>{(0,m.E)(T.config,{onChange(e){try{if(n&&t&&e){let t=ev(e);v(t)}else v(null)}catch(e){}}})()},[n]),(0,s.useEffect)(()=>{f&&n&&f.chainId!=n&&(console.log(n),eg(f.chainId))},[f]);let eN=async()=>{if(!$){p.Am.error("Please select a token to send");return}(0,x.XA)(Z,O,H,W,B,Y,q,L,U)&&(es(!0),q(!0))};return(0,s.useEffect)(()=>{ea&&(null==z?void 0:z.length)>0&&f&&(0,x.zy)(q,$,z,ee,e,O,en,f,et)},[ea,z,null==$?void 0:$.value,null==f?void 0:f.chainId]),(0,s.useEffect)(()=>{var e;ea&&(null==$?void 0:$.value)&&(null==z?void 0:z.length)&&f.chainId&&et&&(null==et?void 0:null===(e=et.amounts)||void 0===e?void 0:e.length)&&(q(!1),es(!1),ee(e=>e+1))},[ea,null==z?void 0:z.length,null==$?void 0:$.value,f,et]),(0,s.useEffect)(()=>{er>0&&(0,x.zy)(q,$,z,ee,e,O,en,f,et)},[er]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.Z,{pageTitle:"Token Sender"}),(0,a.jsx)("div",{className:"container mx-auto justify-center p-6 md:p-0",children:(0,a.jsx)("div",{className:"flex flex-wrap",children:(0,a.jsxs)("div",{className:"w-full",children:[0===Q&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.Z,{currentNetwork:f,setCurrentNetwork:v,isConnected:t,chain:n}),(0,a.jsxs)("div",{className:"space-y-4 max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mt-5 mb-3",children:[(0,a.jsxs)("div",{className:"flex flex-wrap mx-2",children:[(0,a.jsxs)("div",{className:" w-9/12 px-2 mb-2",children:[(0,a.jsx)(E.Z,{title:"Please paste contract address of token or choose native currency.",id:"tokencontracttooltip",text:"Contract Address",theme:y}),(0,a.jsx)(A,{disabled:!t||!f||!e,currentNetwork:f,address:e,selectedToken:$,setSelectedToken:K})]}),(0,a.jsxs)("div",{className:" w-3/12 px-2 mb-2",children:[(0,a.jsx)("div",{children:(0,a.jsx)(E.Z,{title:"If your token is deflationary like Safemoon, please switch this option.",id:"deflationary",text:"Deflationary",theme:y})}),(0,a.jsx)("div",{children:(0,a.jsx)(h.Z,{checked:N,onChange:()=>j(!N)})})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap -mx-2",children:[(0,a.jsx)("div",{className:"w-full md:w-1/2 mt-3",children:(0,a.jsx)("fieldset",{className:"block",children:(0,a.jsx)("div",{className:"p-4  rounded-md",children:(0,a.jsx)("div",{className:"relative p-4rounded-md",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"p-4 border-dashed border-2 border-gray-400 rounded-md cursor-pointer",children:(0,a.jsxs)("div",{className:"text-center cursor-pointer",children:[(0,a.jsx)("input",{name:"file",id:"file",type:"file",className:"inputfile","data-multiple-caption":"{count} files selected",style:{display:"none"},onChange:e=>(0,C.Z)(e,L),accept:".csv"}),(0,a.jsxs)("label",{htmlFor:"file",title:"No File Chosen",className:"cursor-pointer block",children:[(0,a.jsx)("i",{className:"feather-upload"}),(0,a.jsx)("span",{className:"text-center block",children:"Choose a File"}),(0,a.jsxs)("p",{className:"text-center mt-2 text-gray-500",children:["Comma Separated .csv files",(0,a.jsx)("br",{}),"Allowed"]})]})]})})})})})})}),(0,a.jsx)("div",{className:"w-full md:w-1/2 px-2 mt-3 flex items-center justify-center",children:(0,a.jsx)("p",{className:"cursor-pointer mt-4 text-lg hover:text-xl",onClick:()=>w(!0),children:"Show Example List"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap mx-2 border border-gray-700 rounded-lg",children:[(0,a.jsx)("div",{className:"w-1/12 text-center overflow-auto border-r border-gray-700 p-0 line-count",style:{height:"300px"},ref:ei,children:_&&_.map((e,t)=>(0,a.jsxs)("span",{className:G.includes(t)||Y.flat().includes(t)?"text-red-500":"",children:[e,(0,a.jsx)("br",{})]},t))}),(0,a.jsx)("div",{className:"w-11/12 p-0 m-0",children:(0,a.jsx)("textarea",{className:"w-full h-full p-2 py-0 border-0 resize-none custom-textarea lined",rows:8,onScroll:()=>{ei.current&&(ei.current.scrollTop=eo.current.scrollTop)},ref:eo,value:Z,onChange:e=>L(e.target.value)})})]}),Y.length>0&&(0,a.jsx)("div",{className:"mt-5",children:(0,a.jsx)("div",{className:"form-inner",children:(0,a.jsxs)("ul",{className:"flex justify-around",children:[(0,a.jsxs)("div",{className:"pb-5",onClick:()=>(0,x.s1)(Y,z,L,H,W,O),children:[(0,a.jsx)("input",{className:"hidden",type:"checkbox",id:"putonsale"}),(0,a.jsx)("label",{className:"cursor-pointer",htmlFor:"putonsale",children:"Merge Amounts"})]})," ",(0,a.jsxs)("div",{className:"pb-5",onClick:()=>(0,x.R1)(Y,z,L,H,W,O),children:[(0,a.jsx)("input",{className:"hidden",type:"checkbox",id:"putonsale1"}),(0,a.jsx)("label",{className:"cursor-pointer",htmlFor:"putonsale1",children:"Remove Duplicates"})]})]})})}),B&&B.map((e,t)=>(0,a.jsx)("div",{className:"mt-3 mb-3",children:(0,a.jsx)(F.Z,{text:e.message})},t)),Y&&Y.map((e,t)=>(0,a.jsx)("div",{className:"mt-3 mb-3",children:(0,a.jsx)(F.Z,{text:"Duplicate addresses found on lines ".concat(e.map(e=>e+1))})},t)),(0,a.jsx)("div",{className:"w-full flex items-center justify-center p-4",children:t?J?(0,a.jsx)(D.c,{}):(0,a.jsx)(l.A,{onPress:eN,children:"Next Step >>"}):(0,a.jsx)(R.Z,{})})]})]}),1===Q&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(V,{sendingInfo:et,currentNetwork:f,selectedToken:$,dataArray:z,setreCalculate:el,deflationary:N,gasprice:eb})})]})})}),(0,a.jsx)(S.Z,{show:k,handleClose:M})]})}}},function(e){e.O(0,[9585,9598,4102,2770,7341,1664,3115,5287,7745,8238,6490,1645,9913,4363,725,2888,9774,179],function(){return e(e.s=71809)}),_N_E=e.O()}]);